# Markdown → HTML 預覽器

## a. 專案簡介

本專案是一個以 **Next.js（JavaScript 版）** 開發的 Markdown 即時預覽網頁應用。使用者可以在左側輸入 Markdown 語法內容，右側即時顯示對應的 HTML 預覽畫面，提供直覺、快速的編輯與預覽體驗。

###  題目理解與規劃

本專案的核心需求是建立一個「Markdown → HTML 預覽器」，重點在於：

- ⚡ 使用者能即時看到 Markdown 轉換為 HTML 的結果
- 📱 預覽畫面需保持同步且支援獨立滾動
- 💾 自動儲存內容至 localStorage，避免資料遺失
- 🏗️ 採用簡潔架構與模組化設計，方便後續擴充與維護

###  專案結構

```
markdown-preview-nextjs/
├── src/
│   ├── app/
│   │   ├── page.js                    # 主頁面
│   │   ├── layout.js                  # 根佈局
│   │   ├── globals.css                # 全域樣式
│   │   └── components/
│   │       └── MarkdownEditor.js      # Markdown 編輯器元件
├── public/                            # 靜態資源
├── package.json                       # 專案依賴
├── tailwind.config.js                 # Tailwind 設定
├── postcss.config.js                  # PostCSS 設定
└── README.md                          # 專案說明
```

###  技術架構

- **框架**: Next.js 16.x (App Router)
- **語言**: JavaScript/JSX
- **樣式**: Tailwind CSS v4 + @tailwindcss/typography
- **Markdown 處理**: react-markdown + remark-gfm + rehype-highlight
- **語法高亮**: highlight.js (github-dark theme)

---

## b. 開發過程中使用的 AI 工具

###  AI 工具清單

- **GitHub Copilot** - VS Code 內建智能補全
- **ChatGPT (GPT-4o)** - 問題解決與架構建議

###  AI 使用紀錄

| 開發階段 | 使用目的 | AI 工具 | 具體應用 |
|---------|----------|---------|----------|
| **專案初始化** | 建立 Next.js + Tailwind v4 專案骨架 | ChatGPT | 提供安裝指令與基本配置結構 |
| **功能開發** | Markdown 轉換與語法高亮 | ChatGPT | 建議使用 `react-markdown + remark-gfm + rehype-highlight` |
| **錯誤排查** | Tailwind v4 編譯問題 | ChatGPT | 指出需安裝 `@tailwindcss/postcss` 並更新設定 |
| **樣式優化** | 預覽滾動與程式碼區塊呈現 | ChatGPT | 建議使用正確的 CSS 結構與 highlight.js 主題 |
| **程式撰寫** | 程式碼補全與提示 | GitHub Copilot | JSX 結構、Tailwind class、React hooks 自動補全 |
| **文件撰寫** | README.md 撰寫 | ChatGPT | 生成文件架構與內容組織 |

---

## c. AI 回覆品質與判斷分析

###  幫助最大的 AI 回覆

#### 1. **Tailwind v4 建構錯誤修正**
**問題**: 新版 Tailwind 無法正常編譯  
**AI 解決方案**: 準確指出需改用 `@import "tailwindcss"` 取代舊版 `@tailwind base`  
**效果**: 完全解決編譯問題，節省大量除錯時間

#### 2. **React Hydration 錯誤修正**  
**問題**: SSR 與客戶端渲染不一致  
**AI 解決方案**: 建議使用 `dynamic import` 並設置 `{ ssr: false }`  
**效果**: 徹底解決 hydration mismatch 問題

#### 3. **程式碼語法高亮整合**
**問題**: `rehype-highlight` 無法正常顯示語法高亮  
**AI 解決方案**: 
```css
@import "highlight.js/styles/github-dark.css";
```
**效果**: 程式碼區塊獲得完整的語法高亮效果

#### 4. **localStorage 最佳實踐**
**問題**: `useEffect` 內直接 `setState` 造成性能問題  
**AI 解決方案**: 將初始化邏輯移至 `useState` 參數  
**效果**: 符合 React 最佳實踐，避免不必要的重渲染

###  錯誤或不實用的回覆

#### 1. **過時的 Tailwind 語法**
- **錯誤回覆**: 提供 `@tailwind base;` 等 v3 語法
- **實際需求**: Tailwind v4 需使用 `@import "tailwindcss"`
- **影響**: 導致編譯失敗，需額外查閱官方文件

#### 2. **版本相容性盲點**
- **錯誤回覆**: 未考慮 Next.js 16 + React 19 的新特性
- **實際需求**: 需適配最新版本的 API 變更
- **影響**: 部分範例程式碼無法直接使用

#### 3. **設定檔路徑錯誤**
- **錯誤回覆**: highlight.js 匯入路徑建議錯誤
- **實際需求**: 需正確的 node_modules 路徑
- **影響**: 造成樣式無法載入

###  我的判斷與修正策略

#### **驗證方法**
1. **查閱官方文件** - 比對 Tailwind、Next.js、highlight.js 最新文件
2. **版本確認** - 檢查 `package.json` 確定實際使用版本
3. **最小化測試** - 逐段驗證、縮小出錯範圍
4. **增量建構** - 先測試可行性再整合至完整專案

#### **修正原則**
- **優先信任官方文件** 而非 AI 建議
- **保持版本敏感度** 確保相容性
- **實測驗證** 每個 AI 建議都需實際測試
- **漸進式採用** 避免一次性大量變更

---

##  產品優化與創新建議

###  功能增強方向

| 功能分類 | 具體建議 | 技術實現 | 預期效益 |
|---------|----------|----------|----------|
| **使用體驗** | 雙欄同步捲動 | Intersection Observer API | 提升編輯時的視覺對應 |
| **個人化** | 主題切換 (亮/暗模式) | CSS variables + localStorage | 適應不同使用環境 |
| **輸出功能** | 匯出 HTML/PDF | html2pdf.js | 方便文件分享與列印 |
| **雲端整合** | 內容雲端同步 | Firebase/Supabase | 跨裝置內容同步 |
| **模板系統** | Markdown 模板庫 | 預設模板 + 自訂範本 | 加速常見文件撰寫 |
| **分析功能** | 字數與閱讀時間統計 | 文字分析 API | 協助內容規劃 |

###  技術改進空間

- **效能優化**: 實作虛擬滾動處理大型文件
- **即時協作**: 整合 WebRTC 支援多人同時編輯  
- **外掛系統**: 支援自訂 remark/rehype 外掛
- **快捷鍵**: 新增 Markdown 語法快捷鍵
- **預覽模式**: 支援簡報模式與列印預覽

---

##  AI 程式開發優缺點分析

###  **優點**

| 面向 | 具體優勢 | 實際體驗 |
|------|----------|----------|
| **開發速度** | 🚀 快速建立原型與基礎架構 | 30 分鐘內完成基本功能框架 |
| **學習輔助** | 💡 幫助理解新框架與函式庫 | 快速掌握 Tailwind v4 新語法 |
| **創意激發** | 🧠 提供多種解法選項 | 獲得不同的實作思路與方向 |
| **重複工作** | 🪄 自動化樣式與文件撰寫 | 大幅減少 Tailwind class 手打時間 |

###  **缺點**

| 面向 | 主要問題 | 影響程度 |
|------|----------|----------|
| **版本同步** | ⚠️ 回覆可能包含過時語法 | 中等 - 需額外驗證時間 |
| **相容性** | ❗ 缺乏版本敏感度與相容性考量 | 高 - 可能導致專案無法運行 |
| **實測基礎** | 🧩 有時缺乏詳細實測依據 | 中等 - 需自行驗證可行性 |
| **提示依賴** | 💬 回覆品質高度依賴 prompt 品質 | 低 - 可透過改善提示解決 |

---

##  結論與反思

### **AI 作為開發夥伴的定位**

AI 在現代軟體開發中扮演**強大的輔助角色**，能夠：

-  **加速開發流程** - 提供快速原型與基礎程式碼
-  **擴展知識視野** - 介紹新技術與最佳實踐  
-  **提升開發效率** - 自動化重複性工作

### **人機協作的關鍵原則**

1. **AI 負責提供** → 人類負責驗證
2. **AI 負責生成** → 人類負責優化  
3. **AI 負責建議** → 人類負責決策

### **未來發展方向**

隨著 AI 技術持續進步，預期將在以下方面獲得突破：

-  **更準確的版本相容性判斷**
-  **更深入的專案脈絡理解**  
-  **更可靠的程式碼品質保證**

**總結**: AI 是優秀的開發加速器，但專業判斷與品質把控仍需仰賴人類工程師的經驗與智慧。最佳的開發模式是善用 AI 的生產力優勢，同時保持批判性思考與驗證習慣。